# ============================================
# Tradovate Trading Bot Configuration
# Copy this file to .env and fill in your credentials
# ============================================

# === TRADOVATE CREDENTIALS ===
TRADOVATE_ENV=demo
TRADOVATE_USERNAME=your_username
TRADOVATE_PASSWORD=your_password

# === API KEY (Required for API access) ===
# Create an API Key at: Tradovate Trader > Settings > API Access
# You'll get a CID (Client ID) and Secret
TRADOVATE_CID=your_client_id
TRADOVATE_SECRET=your_api_secret

# === CONTRACT ===
CONTRACT_SYMBOL=MESM5
AUTO_ROLLOVER=false

# === RISK MANAGEMENT ===
# Fixed $45 risk per trade for consistent position sizing
RISK_PER_TRADE_MIN=45
RISK_PER_TRADE_MAX=60
PROFIT_TARGET_R=2
DAILY_LOSS_LIMIT=150
WEEKLY_LOSS_LIMIT=300
MAX_CONSECUTIVE_LOSSES=3
MAX_DRAWDOWN_PERCENT=10

# === STRATEGY ===
STRATEGY=enhanced_breakout
LOOKBACK_PERIOD=20
ATR_MULTIPLIER=1.5
TREND_EMA_PERIOD=50
USE_TREND_FILTER=true
USE_VOLUME_FILTER=true
USE_RSI_FILTER=true

# === SESSION FILTERS ===
TRADING_START_HOUR=9
TRADING_START_MINUTE=30
TRADING_END_HOUR=16
TRADING_END_MINUTE=0
AVOID_LUNCH=true
TIMEZONE=America/New_York

# === ORDER MANAGEMENT ===
# Enable trailing stops to let winners run beyond 2R
TRAILING_STOP_ENABLED=true
TRAILING_STOP_ATR_MULTIPLIER=2.0
# Take 50% profit at 2R, let the rest run with trailing stop
PARTIAL_PROFIT_ENABLED=true
PARTIAL_PROFIT_PERCENT=50
PARTIAL_PROFIT_R=2

# === TELEGRAM NOTIFICATIONS (Optional) ===
# Get trade alerts on Telegram
# 1. Message @BotFather on Telegram, send /newbot, follow steps to get token
# 2. Message your bot, then visit: https://api.telegram.org/bot<TOKEN>/getUpdates
# 3. Find your chat_id in the response
# TELEGRAM_BOT_TOKEN=your_bot_token_here
# TELEGRAM_CHAT_ID=your_chat_id_here

# === DYNAMIC SIZING (Optional) ===
# Automatically adjust risk based on recent performance
DYNAMIC_SIZING_ENABLED=false
DYNAMIC_SIZING_MIN_RISK=25
DYNAMIC_SIZING_MAX_RISK=75

# === AI CONFIRMATION (Optional) ===
# Enable AI to confirm/reject trade signals before execution
AI_CONFIRMATION_ENABLED=
# Provider: 'openai' or 'anthropic'
AI_PROVIDER=
# API Key for the chosen provider
AI_API_KEY=
# Model to use (leave empty for default)
# OpenAI: gpt-4-turbo-preview, gpt-4, gpt-3.5-turbo
# Anthropic: claude-3-5-sonnet-20241022, claude-3-opus-20240229
AI_MODEL=
# Minimum confidence % for AI to reject a trade (0-100)
AI_CONFIDENCE_THRESHOLD=70
# Timeout in ms before defaulting to confirm
AI_TIMEOUT=5000
# Default action on timeout/error: 'confirm' or 'reject'
AI_DEFAULT_ACTION=confirm